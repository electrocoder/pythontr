{% extends 'main.html' %}
{% load url from future %}

{% block title %} index pythontr.org {% endblock %}

{% block content %}

{% if messages %}
  {% for message in messages %}
    <h4>{{ message }}</h4>
  {% endfor %}
{% endif %}

<ul>
  {% for post in posts %}
  <p>
    <h3>
      <a href="{{ post.get_absolute_url }}">{{ post.title }}</a>
      /
      <a href="{{ post.topic.get_absolute_url }}">{{ post.topic.title }}</a>
      -
      <a href="{% url 'users:profile_path' post.sender.username %}">
	{{ post.sender.username }}
      </a>
    </h3>
    <p>
      {{ post.content|truncatewords:50 }}
    </p>
  </p>
  {% endfor %}
</ul>


{% if page.has_previous %}
<a href="{% url 'blog:index_path_page' page.previous_page_number %}">Previous page</a>
{% endif %}

{{ page.number }} / {{ page.paginator.num_pages }}

{% if page.has_next %}
<a href="{% url 'blog:index_path_page' page.next_page_number %}">Next page</a>
{% endif %}

{% endblock %}

